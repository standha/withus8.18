<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="kr">
<head>
	<meta charset="UTF-8">
	<link th:href="@{/css/alarm/pill.css}" rel="stylesheet">
	<script th:src="@{/js/alarm/pill.js}"></script>
	<title>복약</title>
</head>
<body>
	<input type="hidden" id="pill-put-action" th:attr="value=@{/pill-history}">
	<div th:replace="header :: #header"></div>
	<div id="body">
		<div>복약</div>
		<!-- TODO: 보호자일 경우 immutable 하도록 -->
		<form id="pill-form" th:action="@{/pill}" method="post" onsubmit="return onFormSubmission(this);">
			<input type="hidden" name="id" th:value="${pill?.id}">
			<input type="checkbox" name="enabled" th:checked="${pill?.enabled == true}">
			<div id="breakfast">
				아침
				<input type="time" name="breakfast" th:value="${pill?.breakfast}">
			</div>
			<div id="lunch">
				점심
				<input type="time" name="lunch" th:value="${pill?.lunch}">
			</div>
			<div id="dinner">
				저녁
				<input type="time" name="dinner" th:value="${pill?.dinner}">
			</div>

			<input type="submit" value="저장">
		</form>
		<div>
			<p th:text="'잠깐! 오늘 하루 ' + ${pill?.name} + '을(를) 다 드셨나요?'"></p>
			<div>
				<button id="yes" type="button" onclick="setFinished(true);">예</button>
				<button id="no" type="button" onclick="setFinished(false);">아니오</button>
			</div>
			<div>
				<button id="history" type="button" onclick="showHistory();">복약기록</button>
			</div>
		</div>
	</div>
</body>
</html>
