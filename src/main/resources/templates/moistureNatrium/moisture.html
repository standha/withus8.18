<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html" lang="kr">
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>위더스</title>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"/>
  <meta name="format-detection" content="telephone=no">
  <link th:href="@{/css/jquery-ui.css}" rel="stylesheet">
  <link th:href="@{/css/reset.css}" rel="stylesheet">
  <link th:href="@{/css/common.css}" rel="stylesheet">
  <link th:href="@{/css/layout.css}" rel="stylesheet">
  <script th:src="@{/js/jquery-1.12.4.min.js}"></script>
  <script th:src="@{/js/jquery-ui.js}"></script>
  <script th:src="@{/js/datepicker-ko.js}"></script>
  <script th:src="@{/js/common.js}"></script>
  <script th:src="@{/js/moistureNatrium/moisture.js}"></script>
  <script th:src="@{/js/help.js}"></script>
  <script th:src="@{/js/home.js}"></script>
  <script th:src="@{/js/subButton.js}"></script>
  <script th:src="@{/js/detailButton.js}"></script>
</head>
<body>
<input type="hidden" id="helper-request" th:attr="value=@{/helper-request}">

<!-- buttonCount -->
<input type="hidden" id="button-count" th:if="${type} == ${T(withus.entity.User.Type).PATIENT} and ${week} != 25"
       th:attr="value=@{/patient-detail-button-count}">
<input type="hidden" id="button-count" th:if="${type} == ${T(withus.entity.User.Type).CAREGIVER} and ${week} != 25"
       th:attr="value=@{/caregiver-detail-button-count}">

<div th:if="${type} == ${T(withus.entity.User.Type).PATIENT} and ${week} != 25">
  <input type='hidden' name="symptom" th:value="${mainCount.symptom}" style="display:none">
  <input type='hidden' name="medicine" th:value="${mainCount.medicine}" style="display:none">
  <input type='hidden' name="mindHealth" th:value="${mainCount.mindHealth}" style="display:none">
  <input type='hidden' name="board" th:value="${mainCount.board}" style="display:none">
  <input type='hidden' name="alarm" th:value="${mainCount.alarm}" style="display:none">
  <input type='hidden' name="bloodPressure" th:value="${mainCount.bloodPressure}" style="display:none">
  <input type='hidden' name="diseaseInfo" th:value="${mainCount.diseaseInfo}" style="display:none">
  <input type='hidden' name="exercise" th:value="${mainCount.exercise}" style="display:none">
  <input type='hidden' name="goal" th:value="${mainCount.goal}" style="display:none">
  <input type='hidden' name="helper" th:value="${mainCount.helper}" style="display:none">
  <input type='hidden' name="level" th:value="${mainCount.level}" style="display:none">
  <input type='hidden' name="natriumMoisture" th:value="${mainCount.natriumMoisture}" style="display:none">
  <input type='hidden' name="weight" th:value="${mainCount.weight}" style="display:none">
  <input type='hidden' name="withusRang" th:value="${mainCount.withusRang}" style="display:none">
  <input type='hidden' name="infoEdit" th:value="${mainCount.infoEdit}" style="display:none">
  <input type='hidden' name="board" th:value="${mainCount.board}" style="display:none">
  
  <input type='hidden' name="recommendDiet" th:value="${detailCount.recommendDiet}" style="display:none">
  <input type='hidden' name="meditation" th:value="${detailCount.meditation}" style="display:none">
  <input type='hidden' name="bodyActivity" th:value="${detailCount.bodyActivity}" style="display:none">
  <input type='hidden' name="deepBreath" th:value="${detailCount.deepBreath}" style="display:none">
  <input type='hidden' name="consulting" th:value="${detailCount.consulting}" style="display:none">
  <input type='hidden' name="medicineAlarm" th:value="${detailCount.medicineAlarm}" style="display:none">
  <input type='hidden' name="bloodPressureAlarm" th:value="${detailCount.bloodPressureAlarm}" style="display:none">
  <input type='hidden' name="exerciseAlarm" th:value="${detailCount.exerciseAlarm}" style="display:none">
  <input type='hidden' name="symptomAlarm" th:value="${detailCount.symptomAlarm}" style="display:none">
  <input type='hidden' name="natriumMoistureAlarm" th:value="${detailCount.natriumMoistureAlarm}" style="display:none">
  <input type='hidden' name="waterIntakeAlarm" th:value="${detailCount.waterIntakeAlarm}" style="display:none">
  <input type='hidden' name="weightAlarm" th:value="${detailCount.weightAlarm}" style="display:none">
  <input type='hidden' name="mindScoreAlarm" th:value="${detailCount.mindScoreAlarm}" style="display:none">
</div>
<div th:if="${type} == ${T(withus.entity.User.Type).CAREGIVER} and ${week} != 25">
  <input type='hidden' name="goal" th:value="${mainCount.goal}" style="display:none">
  <input type='hidden' name="level" th:value="${mainCount.level}" style="display:none">
  <input type='hidden' name="withusRang" th:value="${mainCount.withusRang}" style="display:none">
  <input type='hidden' name="diseaseInfo" th:value="${mainCount.diseaseInfo}" style="display:none">
  <input type='hidden' name="helper" th:value="${mainCount.helper}" style="display:none">
  <input type='hidden' name="medicine" th:value="${mainCount.medicine}" style="display:none">
  <input type='hidden' name="bloodPressure" th:value="${mainCount.bloodPressure}" style="display:none">
  <input type='hidden' name="exercise" th:value="${mainCount.exercise}" style="display:none">
  <input type='hidden' name="familyObservation" th:value="${mainCount.familyObservation}" style="display:none">
  <input type='hidden' name="dietManagement" th:value="${mainCount.dietManagement}" style="display:none">
  <input type='hidden' name="weight" th:value="${mainCount.weight}" style="display:none">
  <input type='hidden' name="mindHealth" th:value="${mainCount.mindHealth}" style="display:none">
  <input type='hidden' name="alarm" th:value="${mainCount.alarm}" style="display:none">
  <input type='hidden' name="board" th:value="${mainCount.board}" style="display:none">
  <input type='hidden' name="infoEdit" th:value="${mainCount.infoEdit}" style="display:none">
  
  <input type='hidden' name="recommendDiet" th:value="${detailCount.recommendDiet}" style="display:none">
  <input type='hidden' name="meditation" th:value="${detailCount.meditation}" style="display:none">
  <input type='hidden' name="bodyActivity" th:value="${detailCount.bodyActivity}" style="display:none">
  <input type='hidden' name="deepBreath" th:value="${detailCount.deepBreath}" style="display:none">
  <input type='hidden' name="consulting" th:value="${detailCount.consulting}" style="display:none">
  <input type='hidden' name="medicineAlarm" th:value="${detailCount.medicineAlarm}" style="display:none">
  <input type='hidden' name="bloodPressureAlarm" th:value="${detailCount.bloodPressureAlarm}" style="display:none">
  <input type='hidden' name="exerciseAlarm" th:value="${detailCount.exerciseAlarm}" style="display:none">
  <input type='hidden' name="symptomAlarm" th:value="${detailCount.symptomAlarm}" style="display:none">
  <input type='hidden' name="natriumMoistureAlarm" th:value="${detailCount.natriumMoistureAlarm}" style="display:none">
  <input type='hidden' name="lewaterIntakeAlarmvel" th:value="${detailCount.waterIntakeAlarm}" style="display:none">
  <input type='hidden' name="weightAlarm" th:value="${detailCount.weightAlarm}" style="display:none">
  <input type='hidden' name="mindDiaryAlarm" th:value="${detailCount.mindDiaryAlarm}" style="display:none">
  <input type='hidden' name="mindScoreAlarm" th:value="${detailCount.mindScoreAlarm}" style="display:none">
</div>
<!-- buttonCount -->

<div class="skip-navi">
  <a href="#content">본문 바로가기</a>
</div>

<!-- wrap -->
<div id="wrap" class="water-page">
  
  <!-- header -->
  <header>
    <div class="header-wrap type01">
      <div class="head" th:if="${type} == ${T(withus.entity.User.Type).PATIENT} and ${week} != 25 ">
        <div onclick="helperRequest()">
          <a class="btn xsm type07" href="tel:010-8454-9186" onclick="addHelper()">
            <span class="ico-call"></span>
            <span class="txt-rt">도우미</span>
          </a>
        </div>
        <h2>
          <span class="ico-water-s"></span>
          <span>수분섭취</span>
        </h2>
      </div>
      <div class="head" th:if="${type} == ${T(withus.entity.User.Type).CAREGIVER} or ${week} == 25">
        <div onclick="helperRequest()">
          <a class="btn xsm type07" href="tel:010-8454-9186">
            <span class="ico-call"></span>
            <span class="txt-rt">도우미</span>
          </a>
        </div>
        <h2>
          <span class="ico-water-s"></span>
          <span>수분섭취</span>
        </h2>
      </div>
    </div>
  </header>
  <!-- // header -->
  
  <!-- content -->
  <div class="container" id="content">
    <div class="cont-wrap type01">
      <div class="insert-wrap">
        <div class="alert-info">
          <span class="ico-info2"></span>
          <span>오늘 마신 물의 양을 눌러주세요.<br> 200ml는 종이컵 한잔이니,<br> 다섯 잔을 마신 경우 1리터(페트한병)입니다.</span>
        </div>
        <div style="margin: 8px 0;">
          <div style="max-width: 75%; margin: 0 auto; padding: 4px 0; border-bottom: 2px solid #25cc85; text-align: center;">
            <span>오늘 수분 섭취량 </span>
            <span th:if="${intake} >= 5" th:text="|${#numbers.formatDecimal(intake * 0.2, 1, 1)}L|" style="font-size: 20px; font-weight: bold;">000ml</span>
            <span th:if="${intake} < 5" th:text="|${intake * 200}ml|" style="font-size: 20px; font-weight: bold;">000ml</span>
          </div>
        </div>
        <div class="bottle-wrap" style="margin-left: 0; margin-right: 0;"> <!-- 7단계 -->
          <div>
            <ul class="bottle-ml">
              <li><span>1L</span></li>
              <li><span>800ml</span></li>
              <li><span>600ml</span></li>
              <li><span>400ml</span></li>
              <li><span>200ml</span></li>
            </ul>
          </div>
          <div class="first-bottle"></div>
          <div class="second-bottle"></div>
          <div class="third-bottle"></div>
        </div>
        <input type="hidden" id="moisture-history-get-action" th:attr="value=@{/moisture-all-history}">
        <input type="hidden" id="moisture-put-action" th:attr="value=@{/moisture-history}">
        <div th:if="${type} == ${T(withus.entity.User.Type).PATIENT}  and ${week} != 25" class="btn-wrap grid2 type01">
          <button id="test1" class="btn lg type03" style="margin-right: 10px;"
                  th:onclick="'setMinus(parseInt(' + ${intakeMinus} + '))'">-200ml
          </button>
          <button class="btn lg type03" style="margin-left: 10px;"
                  th:onclick="'setAdd(parseInt(' + ${intakePlus} + '))'">+200ml
          </button>
        </div>
        <!-- 보호자 입력 기능 주석처리
        <div th:if="${type} == ${T(withus.entity.User.Type).CAREGIVER}  or ${week} == 25" class="btn-wrap grid2 type01">
            <button class="btn xlg type02" disabled>수정</button>
            <button class="btn xlg type02" disabled>입력</button>
        </div> -->
        <div th:if="${type} == ${T(withus.entity.User.Type).PATIENT} and ${week} != 25" class="btn-wrap2 grid4">
          <button id="saveButton" class="btn xlg1 type01" onclick="pushClick()">보호자에게 알림</button>
          <button class="btn xlg1 type01" onclick="submit_Click()">저장</button>
        </div>
      </div>
      <div class="dim-layer" id="dim" style="display:none"></div>
    </div>
  </div>
  
  <div class="popup pop-type02" id="popup" style="display:none">
    <div class="pop-wrap">
      <!-- <a href="javascript:void(0);" class="pop-close"></a> -->
      <div class="popup-body">
        <div class="pop-img">
          <span class="ico-water"></span>
        </div>
        <div class="pop-cont">
          <span class="bold">오늘 마신 물의 양도 충분해요!</span>
          <span>적정량의 수분을 섭취하세요</span>
        </div>
      </div>
      <button class="btn xlg type02" onclick="popupClose()">확인</button>
    </div>
  </div>
  
  <!-- pop-up -->
  <div class="popup pop-type01" id="layerSelectType" style="display: none">
    <div class="pop-wrap">
      <!-- <a href="javascript:void(0);" class="pop-close"></a> -->
      <div class="popup-header"></div>
      <div class="popup-body">
        <!--                <div class="pop-tit" id="popUp1">-->
        <!--                </div>-->
        <div class="pop-cont" id="popUp2">
        </div>
      </div>
      <div id="buttonCaregiverType" class="btn-wrap grid2" style="display:none">
        <button class="btn xlg type07" id="buttonNo">아니요</button>
        <button class="btn xlg type02" id="buttonOk">저장 및 알림</button>
      </div>
      <div id="buttonRecordType" class="btn-wrap grid1" style="display:none">
        <button class="btn xlg type02" id="buttonCheck" style="border-radius:0px 0px 10px 10px;">확인</button>
      </div>
    </div>
  </div>
  <!-- pop-up -->
  <!-- // content -->
  
  <!-- footer -->
  <footer>
    <div class="footer-wrap">
      
      <div class="btn-wrap type02">
        <span class="btn xlg arrow-type02" onclick="showHistory();">
          <span>수분(제한) 실천</span>
          <span class="ico-arrow2"></span>
        </span>
      </div>
    </div>
  </footer>
  <!-- // footer -->

</div>
</body>
<script th:inline="javascript">
  
  /*<![CDATA[*/
  var intake = /*[[ ${intake} ]]*/;
  /*]]*/
  switch (intake) {
    case 0:
      $('.bottle-wrap').attr('class', 'bottle-wrap empty');
      break;
    
    case 1:
      $('.bottle-wrap').attr('class', 'bottle-wrap empty step01');
      break;
    
    case 2:
      $('.bottle-wrap').attr('class', 'bottle-wrap empty step02');
      break;
    
    case 3:
      $('.bottle-wrap').attr('class', 'bottle-wrap empty step03');
      break;
    
    case 4:
      $('.bottle-wrap').attr('class', 'bottle-wrap empty step04');
      break;
    
    case 5:
      $('.bottle-wrap').attr('class', 'bottle-wrap empty step05');
      break;
    
    case 6:
      $('.bottle-wrap').attr('class', 'bottle-wrap full step01');
      break;
    
    case 7:
      $('.bottle-wrap').attr('class', 'bottle-wrap full step02');
      break;
    
    case 8:
      $('.bottle-wrap').attr('class', 'bottle-wrap full step03');
      break;
    
    case 9:
      $('.bottle-wrap').attr('class', 'bottle-wrap full step04');
      break;
    
    case 10:
      $('.bottle-wrap').attr('class', 'bottle-wrap full step05');
      break;
    
    case 11:
      $('.bottle-wrap').attr('class', 'bottle-wrap full full step01');
      break;
    
    case 12:
      $('.bottle-wrap').attr('class', 'bottle-wrap full full step02');
      break;
    
    case 13:
      $('.bottle-wrap').attr('class', 'bottle-wrap full full step03');
      break;
    
    case 14:
      $('.bottle-wrap').attr('class', 'bottle-wrap full full step04');
      break;
    
    case 15:
      $('.bottle-wrap').attr('class', 'bottle-wrap full full step05');
      break;
    
    default:
      $('.bottle-wrap').attr('class', 'bottle-wrap empty');
      break;
  }


</script>
</html>
