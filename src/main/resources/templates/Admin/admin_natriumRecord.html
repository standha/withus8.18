<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="kr">
<meta charset="UTF-8">
<link rel="stylesheet" href="https://cdn.datatables.net/t/bs-3.3.6/jqc-1.12.0,dt-1.10.11/datatables.min.css"/>
<script src="https://cdn.datatables.net/t/bs-3.3.6/jqc-1.12.0,dt-1.10.11/datatables.min.js"></script>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>위더스</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"/>
    <meta name="format-detection" content="telephone=no">
    <link th:href="@{/css/reset.css}" rel="stylesheet">
    <link th:href="@{/css/common.css}" rel="stylesheet">
    <link th:href="@{/css/layout.css}" rel="stylesheet">
    <script th:src="@{/js/jquery-1.12.4.min.js}"></script>
    <script th:src="@{/js/common.js}"></script>
    <title>Admin center</title>
</head>
<body>
<div id="wrap" class="main-page">
    <div th:replace="Admin/admin_nav :: navFragment"></div>
    <header th:replace="Admin/admin_infoHeader :: headerFragment"></header>

    <table id="foo-table" class="table table-bordered">
        <thead>
        <tr>
            <th rowspan="2">주차</th>
            <th rowspan="2">요일</th>
            <th rowspan="2">식사시간</th>
            <th colspan="4">염도</th>
        </tr>
        <tr>
            <th>식사 안함</th>
            <th>저염식</th>
            <th>보통 식사</th>
            <th>고염식</th>
        </tr>
        </thead>
        <tbody id="history-table-data" style="text-align: center" >
        </tbody>
    </table>

    <table id="foo-table" class="table table-bordered">
        <thead>
        <tr><th>주</th><th>안먹은거</th><th>저염식</th> <th>중염식</th>  <th>고염식</th></tr>
        </thead>
        <tbody>
        <tr th:each="natriumCountListSumLists : ${natriumCountListSumLists}">
            <td th:text="${natriumCountListSumLists.week}">날짜</td>
            <td th:text="${natriumCountListSumLists.noneCount}">시간</td>
            <td th:text="${natriumCountListSumLists.lowCount}">이름</td>
            <td th:text="${natriumCountListSumLists.mediumCount}">아이디</td>
            <td th:text="${natriumCountListSumLists.highCount}">본인 연락처</td>

        </tr>
        </tbody>
    </table>
</div>
<script th:inline="javascript">
    /*<![CDATA[*/
    var weekAsc = /*[[ ${natriumAsc} ]]*/;
    var weekAvg = /*[[ ${natriumCountListSumLists} ]]*/;
    /*]]*/

    var weekAscCount = 0;
    var weekAvgCount = 0;
    for(i=1; i<=24; i++)
    {
        for(j=0; j<7; j++) {
            var Item = "<tr>";
            var weekText = ['월', '화', '수', '목', '금', '토', '일'];     //월요일부터 표시해주는 배열
            if (j == 0) {
                Item += "<td rowspan='22' style='vertical-align: middle'>" + i + "주차" + "</td>";
            }
            Item += "<td rowspan='3'>" + weekText[j] + "</td>";
            var day = new Date(weekAsc[weekAscCount].pk.date.substr(0, 4), weekAsc[weekAscCount].pk.date.substr(5, 2) - 1, weekAsc[weekAscCount].pk.date.substr(8, 2)).getDay();
            var week = ['일', '월', '화', '수', '목', '금', '토'];     //날짜와 요일을 매핑하는 배열
            var dayLabel = week[day];
            // if(weekAsc[weekAscCount].week == i && weekText[j] == dayLabel.toString())
            // {
            //     Item += "<td>" + (weekAsc[weekAscCount].intake*200) +"</td>";
            //     weekAscCount++;
            //     if(weekAscCount >= weekAsc.length)
            //         weekAscCount--;
            // }
            // else
            //     Item += "<td>" + "" +"</td>";
            // Item += "<tr>";
            // Item += "<tr><td></td></tr>";
            // Item += "<tr><td></td></tr>";
            // Item += "<tr><td></td></tr>";
            // Item += "<tr><td></td></tr>";

            // Item += "</tr>";
            //
            Item += "</tr>";
            $('#history-table-data').append(Item);


            // if(j == 6)
            // {
            //     Item = "<tr>";
            //     Item += "<td>" + i + "주차 평균 하루 수분 섭취량" + "</td>";
            //
            //     if(weekAvg[weekAvgCount].week == i)
            //     {
            //         Item += "<td>" + (weekAvg[weekAvgCount].intake*200) + "</td>";
            //         weekAvgCount++;
            //         if(weekAvgCount >= weekAvg.length)
            //             weekAvgCount--;
            //     }
            //     else
            //         Item += "<td>" + "" + "</td>";
            //     Item += "</tr>";
            //     $('#history-table-data').append(Item);
            // }
        }

    }
</script>
</body>
</html>